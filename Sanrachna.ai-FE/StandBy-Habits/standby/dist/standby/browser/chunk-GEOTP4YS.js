import{$ as b,E as l,F as r,H as a,J as d,K as c,L as u,M as p,N as m,Q as g,ja as f,m as s,x as o}from"./chunk-4LOCN6XP.js";var C=(i,t)=>t.date;function y(i,t){if(i&1&&m(0,"div",3),i&2){let e=t.$implicit,n=g();a(n.getGridCellClass(e)),r("width",n.cellSize,"px")("height",n.cellSize,"px"),l("title",n.getTooltip(e))}}var h=class i{gridData=[];compact=!1;showCount=!1;maxCount=5;isMobile=typeof window<"u"&&window.innerWidth<640;get cellSize(){return this.compact?this.isMobile?6:8:this.isMobile?10:12}get gridHeight(){let t=this.compact?2:this.isMobile?3:4;return 7*this.cellSize+6*t}getGridCellClass(t){let e="rounded-sm transition-all duration-200 ";if(t.isToday&&(e+="ring-1 ring-standby-accent-blue ring-offset-1 ring-offset-standby-bg "),t.isFuture)return e+"bg-standby-grid-empty opacity-30";if(this.showCount&&t.count!==void 0){let n=Math.min(t.count/this.maxCount,1);return t.count===0?e+"bg-standby-grid-empty":n<=.33?e+"bg-standby-grid-low":n<=.66?e+"bg-standby-grid-medium":e+"bg-standby-grid-high"}else return e+(t.completed?"bg-standby-accent-green":"bg-standby-grid-empty")}getTooltip(t){let e=new Date(t.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return this.showCount&&t.count!==void 0?`${e}: ${t.count} habit${t.count!==1?"s":""} completed`:`${e}: ${t.completed?"Completed":"Not completed"}`}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=s({type:i,selectors:[["app-contribution-grid"]],inputs:{gridData:"gridData",compact:"compact",showCount:"showCount",maxCount:"maxCount"},standalone:!0,features:[b],decls:4,vars:4,consts:[[1,"contribution-grid","overflow-x-auto"],[1,"grid-container"],[3,"class","title","width","height"],[3,"title"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"div",1),d(2,y,1,7,"div",2,C),p()()),e&2&&(o(),a(n.compact?"gap-0.5":"gap-[3px] sm:gap-1"),r("max-height",n.gridHeight,"px"),o(),c(n.gridData))},dependencies:[f],styles:[".grid-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;align-content:flex-start}"]})};export{h as a};
