import{a as M}from"./chunk-GEOTP4YS.js";import{c as _}from"./chunk-ZOUWMX2U.js";import{$ as w,C as f,E as u,F as C,G as x,H as m,I as y,L as t,M as n,N as r,P as h,T as o,V as d,ja as S,l as g,m as v,ra as k,s as l,t as p,v as b,x as i}from"./chunk-4LOCN6XP.js";function H(s,a){s&1&&(l(),t(0,"svg",6),r(1,"path",22),n())}function I(s,a){s&1&&(l(),t(0,"svg",7),r(1,"path",23),n())}var E=class s{habit;completed=new b;cardClicked=new b;habitService=g(_);get isCompletedToday(){return this.habitService.isCompletedToday(this.habit.id)}get stats(){return this.habitService.calculateStats(this.habit)}get progressPercentage(){return this.habitService.getProgressPercentage(this.habit)}get gridData(){return this.habitService.getCompletionGridData(this.habit,8)}getEffortBadgeClass(){let a="font-medium ";switch(this.habit.effortLevel){case"Low":return a+"bg-standby-accent-green/20 text-standby-accent-green";case"Medium":return a+"bg-standby-accent-yellow/20 text-standby-accent-yellow";case"High":return a+"bg-standby-accent-orange/20 text-standby-accent-orange";default:return a+"bg-standby-card-hover text-standby-text-muted"}}onQuickComplete(a){a.stopPropagation(),this.isCompletedToday||(this.habitService.markTodayCompleted(this.habit.id),this.completed.emit(this.habit.id))}onCardClick(){this.cardClicked.emit(this.habit.id)}static \u0275fac=function(c){return new(c||s)};static \u0275cmp=v({type:s,selectors:[["app-habit-card"]],inputs:{habit:"habit"},outputs:{completed:"completed",cardClicked:"cardClicked"},standalone:!0,features:[w],decls:33,vars:21,consts:[[1,"habit-card","bg-standby-card","rounded-xl","sm:rounded-2xl","p-3","sm:p-5","border","border-standby-border","hover:border-standby-card-hover","transition-all","duration-300","cursor-pointer","group",3,"click"],[1,"flex","items-start","justify-between","mb-3","sm:mb-4"],[1,"flex","items-center","gap-2","sm:gap-3","min-w-0","flex-1"],[1,"w-2.5","h-2.5","sm:w-3","sm:h-3","rounded-full","shrink-0"],[1,"text-base","sm:text-lg","font-semibold","text-standby-text","group-hover:text-white","transition-colors","truncate"],[1,"complete-btn","flex","items-center","justify-center","w-8","h-8","sm:w-10","sm:h-10","rounded-lg","sm:rounded-xl","transition-all","duration-300","shrink-0","ml-2",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4","sm:h-5","sm:w-5"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","sm:h-5","sm:w-5"],[1,"flex","flex-wrap","items-center","gap-2","sm:gap-4","mb-3","sm:mb-4","text-xs","sm:text-sm"],[1,"flex","items-center","gap-1","sm:gap-1.5","text-standby-text-muted"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-3.5","w-3.5","sm:h-4","sm:w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"px-1.5","sm:px-2","py-0.5","rounded-full","text-[10px]","sm:text-xs"],[1,"mb-3","sm:mb-4"],[1,"flex","justify-between","items-center","mb-1","sm:mb-1.5"],[1,"text-[10px]","sm:text-xs","text-standby-text-muted"],[1,"text-[10px]","sm:text-xs","font-medium","text-standby-text"],[1,"h-1.5","sm:h-2","bg-standby-bg","rounded-full","overflow-hidden"],[1,"h-full","rounded-full","transition-all","duration-500"],[1,"pt-2","sm:pt-3","border-t","border-standby-border"],[3,"gridData","compact"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"]],template:function(c,e){c&1&&(t(0,"div",0),h("click",function(){return e.onCardClick()}),t(1,"div",1)(2,"div",2),r(3,"div",3),t(4,"h3",4),o(5),n()(),t(6,"button",5),h("click",function(T){return e.onQuickComplete(T)}),f(7,H,2,0,":svg:svg",6)(8,I,2,0,":svg:svg",7),n()(),t(9,"div",8)(10,"div",9),l(),t(11,"svg",10),r(12,"path",11),n(),p(),t(13,"span"),o(14),n()(),t(15,"div",9),l(),t(16,"svg",10),r(17,"path",12),n(),p(),t(18,"span"),o(19),n()(),t(20,"div",9)(21,"span",13),o(22),n()()(),t(23,"div",14)(24,"div",15)(25,"span",16),o(26,"Progress"),n(),t(27,"span",17),o(28),n()(),t(29,"div",18),r(30,"div",19),n()(),t(31,"div",20),r(32,"app-contribution-grid",21),n()()),c&2&&(x("completed-today",e.isCompletedToday),i(3),m(e.habitService.getColorClass(e.habit.color)),i(2),d(" ",e.habit.title," "),i(),m(e.isCompletedToday?"bg-standby-accent-green text-white":"bg-standby-card-hover text-standby-text-muted hover:bg-standby-accent-green hover:text-white"),u("title",e.isCompletedToday?"Completed!":"Mark as completed"),i(),y(e.isCompletedToday?7:8),i(7),d("",e.stats.currentStreak,"d"),i(5),d("",e.habit.dailyMinutes,"m"),i(2),m(e.getEffortBadgeClass()),i(),d(" ",e.habit.effortLevel," "),i(6),d("",e.progressPercentage,"%"),i(2),m(e.habitService.getColorClass(e.habit.color)),C("width",e.progressPercentage,"%"),i(2),u("gridData",e.gridData)("compact",!0))},dependencies:[S,k,M],styles:[".habit-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.habit-card.completed-today[_ngcontent-%COMP%]{box-shadow:0 0 0 1px #22c55e4d}.complete-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.complete-btn.animate-success[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .3s ease-in-out}"]})};export{E as a};
