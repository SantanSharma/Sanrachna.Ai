import{a as j}from"./chunk-ECSJAOXZ.js";import{a as G}from"./chunk-GEOTP4YS.js";import{c as V}from"./chunk-ZOUWMX2U.js";import{$ as M,A as S,C as c,E as m,H as g,I as p,L as t,M as e,N as s,O as k,P as _,Q as b,T as a,U as v,V as y,W as E,ba as D,ja as H,l as h,la as T,m as f,na as L,oa as B,q as w,r as C,ra as I,s as l,t as d,x as o}from"./chunk-4LOCN6XP.js";var O=r=>["/habits",r,"edit"];function A(r,i){if(r&1&&(t(0,"p",12),a(1),e()),r&2){let n=b(2);o(),v(n.habit().description)}}function P(r,i){r&1&&(l(),t(0,"svg",45),s(1,"path",46),e(),d(),t(2,"span",47),a(3,"Completed Today"),e(),t(4,"span",48),a(5,"Done"),e())}function F(r,i){r&1&&(l(),t(0,"svg",5),s(1,"path",49),e(),d(),t(2,"span",47),a(3,"Mark Complete"),e(),t(4,"span",48),a(5,"Complete"),e())}function $(r,i){if(r&1&&(t(0,"div")(1,"span",42),a(2,"Reminder Time"),e(),t(3,"p",43),a(4),e()()),r&2){let n=b(2);o(4),v(n.formatTime(n.habit().reminderTime))}}function N(r,i){if(r&1){let n=k();t(0,"div",1)(1,"div",3)(2,"a",4),l(),t(3,"svg",5),s(4,"path",6),e(),a(5," Back to Habits "),e(),d(),t(6,"div",7)(7,"div",8),s(8,"div",9),t(9,"div",10)(10,"h1",11),a(11),e(),c(12,A,2,1,"p",12),e()(),t(13,"div",13)(14,"a",14),l(),t(15,"svg",5),s(16,"path",15),e()(),d(),t(17,"button",16),_("click",function(){w(n);let u=b();return C(u.onMarkComplete())}),c(18,P,6,0)(19,F,6,0),e()()()(),t(20,"div",17)(21,"app-stat-card",18),l(),t(22,"svg",19),s(23,"path",20),e()(),d(),t(24,"app-stat-card",21),l(),t(25,"svg",22),s(26,"path",23),e()(),d(),t(27,"app-stat-card",24),l(),t(28,"svg",25),s(29,"path",26),e()(),d(),t(30,"app-stat-card",27),l(),t(31,"svg",28),s(32,"path",29),e()()(),d(),t(33,"div",30)(34,"div",31)(35,"h2",32),a(36,"Activity History"),e(),t(37,"div",33)(38,"span"),a(39,"Not completed"),e(),s(40,"div",34)(41,"div",35),t(42,"span"),a(43,"Completed"),e()()(),t(44,"div",36),s(45,"app-contribution-grid",37),e(),t(46,"p",38),a(47," Click on any past date to toggle completion status "),e()(),t(48,"div",39)(49,"h2",40),a(50,"Habit Details"),e(),t(51,"div",41)(52,"div")(53,"span",42),a(54,"Duration"),e(),t(55,"p",43),a(56),e()(),t(57,"div")(58,"span",42),a(59,"Daily Commitment"),e(),t(60,"p",43),a(61),e()(),t(62,"div")(63,"span",42),a(64,"Effort Level"),e(),t(65,"p")(66,"span",44),a(67),e()()(),c(68,$,5,1,"div"),e()()()}if(r&2){let n=b();o(8),g(n.habitService.getColorClass(n.habit().color)),o(3),v(n.habit().title),o(),p(n.habit().description?12:-1),o(2),m("routerLink",D(21,O,n.habit().id)),o(3),g(n.isCompletedToday()?"bg-standby-accent-green text-white cursor-default":"bg-standby-accent-blue text-white hover:bg-standby-accent-blue/80"),m("disabled",n.isCompletedToday()),o(),p(n.isCompletedToday()?18:19),o(3),m("value",n.stats().currentStreak),o(3),m("value",n.stats().longestStreak),o(3),m("value",n.stats().completedDays+"/"+n.stats().totalDays),o(3),m("value",n.stats().completionRate.toFixed(0)+"%"),o(15),m("gridData",n.gridData()),o(11),E(" ",n.formatDate(n.habit().startDate)," - ",n.formatDate(n.habit().endDate)," "),o(5),y("",n.habit().dailyMinutes," min"),o(5),g(n.getEffortBadgeClass()),o(),y(" ",n.habit().effortLevel," "),o(),p(n.habit().reminderTime?68:-1)}}function U(r,i){r&1&&(t(0,"div",2)(1,"div",50)(2,"h2",51),a(3,"Habit not found"),e(),t(4,"p",52),a(5,"This habit doesn't exist or has been deleted."),e(),t(6,"a",53),a(7," Back to Habits "),e()()())}var R=class r{habitService=h(V);router=h(L);route=h(T);habit=S(void 0);ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&this.habit.set(this.habitService.getHabitById(i))}stats(){let i=this.habit();return i?this.habitService.calculateStats(i):{totalDays:0,completedDays:0,currentStreak:0,longestStreak:0,completionRate:0}}gridData(){let i=this.habit();return i?this.habitService.getCompletionGridData(i,16):[]}isCompletedToday(){let i=this.habit();return i?this.habitService.isCompletedToday(i.id):!1}onMarkComplete(){let i=this.habit();i&&!this.isCompletedToday()&&(this.habitService.markTodayCompleted(i.id),this.habit.set(this.habitService.getHabitById(i.id)))}formatDate(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}formatTime(i){let[n,x]=i.split(":"),u=parseInt(n),z=u>=12?"PM":"AM";return`${u%12||12}:${x} ${z}`}getEffortBadgeClass(){let i=this.habit();if(!i)return"";switch(i.effortLevel){case"Low":return"bg-standby-accent-green/20 text-standby-accent-green";case"Medium":return"bg-standby-accent-yellow/20 text-standby-accent-yellow";case"High":return"bg-standby-accent-orange/20 text-standby-accent-orange";default:return"bg-standby-card-hover text-standby-text-muted"}}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=f({type:r,selectors:[["app-habit-detail"]],standalone:!0,features:[M],decls:3,vars:1,consts:[[1,"habit-detail-page","min-h-screen","bg-standby-bg"],[1,"max-w-4xl","mx-auto","px-3","sm:px-6","lg:px-8","py-4","sm:py-8"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-6","sm:mb-8"],["routerLink","/habits",1,"inline-flex","items-center","gap-2","text-standby-text-muted","hover:text-standby-text","transition-colors","mb-3","sm:mb-4","text-sm","sm:text-base"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","sm:h-5","sm:w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"flex","flex-col","sm:flex-row","sm:items-start","sm:justify-between","gap-4"],[1,"flex","items-center","gap-3","sm:gap-4"],[1,"w-3","h-3","sm:w-4","sm:h-4","rounded-full","shrink-0"],[1,"min-w-0"],[1,"text-xl","sm:text-3xl","font-bold","text-standby-text","truncate"],[1,"text-standby-text-muted","mt-1","text-sm","sm:text-base","line-clamp-2"],[1,"flex","items-center","gap-2","sm:gap-3","shrink-0"],[1,"px-3","sm:px-4","py-2","rounded-xl","bg-standby-card","border","border-standby-border","text-standby-text","hover:bg-standby-card-hover","transition-colors",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"complete-btn","flex","items-center","gap-2","px-3","sm:px-5","py-2","rounded-xl","transition-all","duration-300","font-medium","text-sm","sm:text-base",3,"click","disabled"],[1,"grid","grid-cols-2","gap-3","sm:gap-4","mb-6","sm:mb-8"],["label","Current Streak","iconBgClass","bg-standby-accent-orange/20",3,"value"],["icon","","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","sm:h-6","sm:w-6","text-standby-accent-orange"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"],["label","Longest Streak","iconBgClass","bg-standby-accent-yellow/20",3,"value"],["icon","","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","sm:h-6","sm:w-6","text-standby-accent-yellow"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"],["label","Days Completed","iconBgClass","bg-standby-accent-green/20",3,"value"],["icon","","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","sm:h-6","sm:w-6","text-standby-accent-green"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["label","Completion Rate","iconBgClass","bg-standby-accent-blue/20",3,"value"],["icon","","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","sm:h-6","sm:w-6","text-standby-accent-blue"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"bg-standby-card","rounded-xl","sm:rounded-2xl","p-4","sm:p-6","border","border-standby-border","mb-6","sm:mb-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-2","mb-4"],[1,"text-lg","sm:text-xl","font-semibold","text-standby-text"],[1,"flex","items-center","gap-2","text-xs","text-standby-text-muted"],[1,"w-3","h-3","rounded-sm","bg-standby-grid-empty"],[1,"w-3","h-3","rounded-sm","bg-standby-accent-green"],[1,"overflow-x-auto","pb-2","-mx-2","px-2"],[3,"gridData"],[1,"text-xs","sm:text-sm","text-standby-text-muted","mt-3","sm:mt-4"],[1,"bg-standby-card","rounded-xl","sm:rounded-2xl","p-4","sm:p-6","border","border-standby-border"],[1,"text-lg","sm:text-xl","font-semibold","text-standby-text","mb-4"],[1,"grid","grid-cols-2","gap-4","sm:gap-6"],[1,"text-xs","sm:text-sm","text-standby-text-muted"],[1,"text-standby-text","font-medium","text-sm","sm:text-base"],[1,"inline-flex","px-2","sm:px-3","py-0.5","sm:py-1","rounded-full","text-xs","sm:text-sm","font-medium"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4","sm:h-5","sm:w-5"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"hidden","xs:inline"],[1,"xs:hidden"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"bg-standby-card","rounded-2xl","p-12","border","border-standby-border","text-center"],[1,"text-xl","font-semibold","text-standby-text","mb-2"],[1,"text-standby-text-muted","mb-6"],["routerLink","/habits",1,"inline-flex","items-center","gap-2","px-6","py-3","rounded-xl","bg-standby-accent-blue","text-white","hover:bg-standby-accent-blue/80","transition-all","duration-200"]],template:function(n,x){n&1&&(t(0,"div",0),c(1,N,69,23,"div",1)(2,U,8,0,"div",2),e()),n&2&&(o(),p(x.habit()?1:2))},dependencies:[H,I,B,G,j],styles:[".habit-detail-page[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.complete-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};export{R as HabitDetailComponent};
