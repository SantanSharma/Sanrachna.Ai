import{a as Q}from"./chunk-UQTX5XDL.js";import{b as N,d as P,f as V,k as B}from"./chunk-3NQ2KXGN.js";import{A as f,E as c,G as u,H as x,I as m,J as k,K as h,L as v,M as o,N as a,O as b,P as M,Q as g,R as s,S as l,T as C,U as E,V as T,W as F,X as I,Z as z,fa as $,ga as y,n as S,p as A,q as D,ta as L,ua as O,w as _,x as r}from"./chunk-WPWVWWUJ.js";var R=(i,n)=>[i,n],w=class i{icon="apps";colorClass="bg-blue-500";size="md";get sizeClass(){switch(this.size){case"sm":return"w-10 h-10";case"md":return"w-14 h-14";case"lg":return"w-16 h-16";case"xl":return"w-20 h-20";default:return"w-14 h-14"}}get iconSizeClass(){switch(this.size){case"sm":return"text-xl";case"md":return"text-2xl";case"lg":return"text-3xl";case"xl":return"text-4xl";default:return"text-2xl"}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["app-icon"]],inputs:{icon:"icon",colorClass:"colorClass",size:"size"},decls:3,vars:6,consts:[[1,"icon-container","rounded-xl","flex","items-center","justify-center",3,"ngClass"],[1,"material-icons-outlined",3,"ngClass"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"span",1),l(2),a()()),e&2&&(u("ngClass",z(3,R,t.colorClass,t.sizeClass)),r(),u("ngClass",t.iconSizeClass),r(),E(" ",t.icon," "))},dependencies:[y,$],encapsulation:2})};var U=(i,n)=>n.id;function G(i,n){i&1&&(o(0,"div",13)(1,"div",14)(2,"span",15),l(3,"refresh"),a()()())}function H(i,n){i&1&&(o(0,"span",26),l(1,"Coming Soon"),a())}function J(i,n){if(i&1){let e=M();o(0,"div",22),g("click",function(){let p=A(e).$implicit,d=s(5);return D(d.launchApp(p))}),b(1,"app-icon",23),o(2,"h3",24),l(3),a(),o(4,"p",25),l(5),a(),c(6,H,2,0,"span",26),a()}if(i&2){let e=n.$implicit;x("opacity-50",!e.isSupported)("cursor-not-allowed",!e.isSupported),r(),u("icon",e.icon)("colorClass",e.iconColor),r(2),C(e.name),r(2),C(e.description),r(),m(e.isSupported?-1:6)}}function K(i,n){if(i&1&&(o(0,"div",19),h(1,J,7,9,"div",21,U),a()),i&2){let e=s(2).$implicit,t=s(2);r(),v(t.getAppsByCategory(e))}}function X(i,n){i&1&&(o(0,"span",32),l(1,"Coming Soon"),a())}function Y(i,n){i&1&&(o(0,"span",33),l(1,"arrow_forward"),a())}function Z(i,n){if(i&1){let e=M();o(0,"div",28),g("click",function(){let p=A(e).$implicit,d=s(5);return D(d.launchApp(p))}),b(1,"app-icon",29),o(2,"div",30)(3,"h3",24),l(4),a(),o(5,"p",31),l(6),a()(),c(7,X,2,0,"span",32)(8,Y,2,0,"span",33),a()}if(i&2){let e=n.$implicit;x("opacity-50",!e.isSupported)("cursor-not-allowed",!e.isSupported),r(),u("icon",e.icon)("colorClass",e.iconColor),r(3),C(e.name),r(2),C(e.description),r(),m(e.isSupported?8:7)}}function ee(i,n){if(i&1&&(o(0,"div",20),h(1,Z,9,9,"div",27,U),a()),i&2){let e=s(2).$implicit,t=s(2);r(),v(t.getAppsByCategory(e))}}function te(i,n){if(i&1&&(o(0,"div",17)(1,"h2",18),l(2),a(),c(3,K,3,0,"div",19)(4,ee,3,0,"div",20),a()),i&2){let e=s().$implicit,t=s(2);r(2),C(e),r(),m(t.viewMode()==="grid"?3:4)}}function ie(i,n){if(i&1&&c(0,te,5,2,"div",17),i&2){let e=n.$implicit,t=s(2);m(t.getAppsByCategory(e).length>0?0:-1)}}function ne(i,n){i&1&&(o(0,"div",16)(1,"span",34),l(2,"search_off"),a(),o(3,"p",35),l(4,"No applications found"),a(),o(5,"p",36),l(6,"Try adjusting your search criteria"),a()())}function oe(i,n){if(i&1&&(h(0,ie,1,1,null,null,k),c(2,ne,7,0,"div",16)),i&2){let e=s();v(e.categories()),r(2),m(e.filteredApps().length===0?2:-1)}}var j=class i{authService=S(L);toastService=S(O);applications=_([]);filteredApps=_([]);isLoading=_(!0);viewMode=_("grid");searchQuery="";categories=_([]);ngOnInit(){this.loadApplications()}loadApplications(){this.authService.getUserApplications().subscribe({next:n=>{this.applications.set(n),this.filteredApps.set(n.filter(t=>t.isSupported));let e=[...new Set(n.map(t=>t.category))];this.categories.set(e),this.isLoading.set(!1)},error:()=>{this.toastService.error("Error","Failed to load applications"),this.isLoading.set(!1)}})}filterApplications(){let n=this.searchQuery.toLowerCase().trim();if(!n){this.filteredApps.set(this.applications().filter(t=>t.isSupported));return}let e=this.applications().filter(t=>t.isSupported&&(t.name.toLowerCase().includes(n)||t.description.toLowerCase().includes(n)||t.category.toLowerCase().includes(n)));this.filteredApps.set(e)}getAppsByCategory(n){return this.filteredApps().filter(e=>e.category===n)}launchApp(n){if(!n.isSupported){this.toastService.info("Coming Soon",`${n.name} will be available soon.`);return}let e=this.authService.getToken(),t=`${n.url}?token=${encodeURIComponent(e||"")}`;this.toastService.info("Launching",`Opening ${n.name}...`),window.open(t,"_blank")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["app-dashboard"]],decls:23,vars:18,consts:[[1,"page-container"],[1,"flex-1","max-w-7xl","mx-auto","w-full","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-8"],[1,"text-2xl","font-bold","text-white","mb-2"],[1,"text-gray-400"],[1,"flex","flex-col","sm:flex-row","gap-4","mb-8"],[1,"relative","flex-1"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","text-gray-500"],[1,"material-icons-outlined","text-xl"],["type","text","placeholder","Search applications...",1,"w-full","px-4","py-3","pl-12","rounded-lg","bg-dark-card","border","border-dark-border","text-gray-100","placeholder-gray-500","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-1","bg-dark-card","border","border-dark-border","rounded-lg","p-1"],[1,"p-2","rounded-md","transition-colors",3,"click"],[1,"material-icons-outlined","text-lg"],[1,"flex","items-center","justify-center","py-20"],[1,"animate-spin"],[1,"material-icons-outlined","text-4xl","text-blue-500"],[1,"text-center","py-20"],[1,"mb-8","animate-fade-in"],[1,"text-lg","font-semibold","text-gray-300","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],[1,"space-y-2"],[1,"app-card","group",3,"opacity-50","cursor-not-allowed"],[1,"app-card","group",3,"click"],["size","md",3,"icon","colorClass"],[1,"text-white","font-medium"],[1,"text-gray-400","text-sm","text-center"],[1,"text-xs","text-yellow-500","mt-1"],[1,"flex","items-center","gap-4","p-4","bg-dark-card","border","border-dark-border","rounded-lg","hover:border-blue-500/50","transition-all","cursor-pointer",3,"opacity-50","cursor-not-allowed"],[1,"flex","items-center","gap-4","p-4","bg-dark-card","border","border-dark-border","rounded-lg","hover:border-blue-500/50","transition-all","cursor-pointer",3,"click"],["size","sm",3,"icon","colorClass"],[1,"flex-1"],[1,"text-gray-400","text-sm"],[1,"text-xs","text-yellow-500","px-2","py-1","bg-yellow-500/10","rounded"],[1,"material-icons-outlined","text-gray-500","group-hover:text-blue-400"],[1,"material-icons-outlined","text-6xl","text-gray-600","mb-4"],[1,"text-gray-400","text-lg"],[1,"text-gray-500","text-sm","mt-1"]],template:function(e,t){e&1&&(o(0,"div",0),b(1,"app-navbar"),o(2,"main",1)(3,"div",2)(4,"h1",3),l(5,"Application Dashboard"),a(),o(6,"p",4),l(7,"Click any application to launch with Single Sign-On"),a()(),o(8,"div",5)(9,"div",6)(10,"span",7)(11,"span",8),l(12,"search"),a()(),o(13,"input",9),I("ngModelChange",function(d){return F(t.searchQuery,d)||(t.searchQuery=d),d}),g("ngModelChange",function(){return t.filterApplications()}),a()(),o(14,"div",10)(15,"button",11),g("click",function(){return t.viewMode.set("grid")}),o(16,"span",12),l(17,"grid_view"),a()(),o(18,"button",11),g("click",function(){return t.viewMode.set("list")}),o(19,"span",12),l(20,"view_list"),a()()()(),c(21,G,4,0,"div",13)(22,oe,3,1),a()()),e&2&&(r(13),T("ngModel",t.searchQuery),r(2),x("bg-blue-500",t.viewMode()==="grid")("text-white",t.viewMode()==="grid")("text-gray-400",t.viewMode()!=="grid")("hover:text-white",t.viewMode()!=="grid"),r(3),x("bg-blue-500",t.viewMode()==="list")("text-white",t.viewMode()==="list")("text-gray-400",t.viewMode()!=="list")("hover:text-white",t.viewMode()!=="list"),r(3),m(t.isLoading()?21:22))},dependencies:[y,B,N,P,V,Q,w],encapsulation:2})};export{j as DashboardComponent};
